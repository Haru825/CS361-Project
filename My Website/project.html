<!DOCTYPE html>
<html>
  <link rel="stylesheet" href="style.css" media="screen">
  <title>project.html</title>
  
  <body>
    <h1 class="notranslate">Original Text:
      <input id="mic" type="image" src="mic.png" width="40" height="40"></input>
    </h1>  

    <input type="text" id="origText" name="origText"  class="notranslate" style="height: 200px; width:99%;"  onkeyup='saveValue(this);'>
    <!--<p>{{ output }}</p>-->
    <input id="go" value= "Submit" type="button" onclick="sync()" class="notranslate"></input>
        
    
  <h1></h1>    
  <script>
    function test(){
      //var e = document.getElementByID("langbox")
      var lang = document.getElementByID("origText")
      selectElement = document.querySelector("#langbox");
      output = selectElement.options[selectElement.selectedIndex].value;
      document.querySelector('.output').textContent = output;
      document.querySelector('.output').textContent = lang;
    }  
  </script>
  
  
  <!-- scripts bellow from https://www.coderepublics.com/tryit/tryit.php?name=howto-examples/google-translater-for-website.php# -->
  <!--Translation script-->
  <div id="google_translate_element"></div>
  <script type="text/javascript"
    src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
  </script>
   

  <p></p>
  <!--Text to translate-->
  <h1>Translate</h1>
  <div>
    <input class="translate" id="translatedText" type="text" style="height: 200px; width:99%;" onkeyup='saveValue(this);'>
      <span class="output"></span>
      <span class="output"></span>
    </input>
  </div>
  <p></p>
    
    
    <button id="download" class="notranslate" onclick="download()">"Download file"</button>
    <script>
      //Drop down box with all languages
      function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
        }
    
    
      //Input text from original to the translate box to be translated
      function sync(){
        var text1 = document.getElementById('origText'); 
        var text2 = document.getElementById('translatedText');
        text2.value = text1.value;
      }
    
    
      //js used from stackOverflow https://stackoverflow.com/questions/38930144/keep-input-value-after-refresh-page
      //saves all the values
      //Input text from original to the translate box to be translated
      //Keep value in the page even when reloaded
      document.getElementById("origText").value = getSavedValue("origText");
      document.getElementById("translatedText").value = getSavedValue("translatedText");
      function saveValue(e){
        var id = e.id;  // get the sender's id to save it . 
        var val = e.value; // get the value. 
        //every time user writing something, the localStorage's value will override . 
        localStorage.setItem(id, val);
      }
            
      function getSavedValue  (v){
        if(!localStorage.getItem(v)){
          return v.value;// You can change this to your defualt value. 
        }
        return localStorage.getItem(v);
      }
      
      
      //turn the website into a csv
      var csvFile=[
        ['website', 'http://web.engr.oregonstate.edu/~liusus/cs361/project.html']
      ];
      function download(){
        var csv = '';
        csvFile.forEach(function(row) {  
          csv += row.join(',');  
          csv += "\n";  
        });  
        document.write(csv);
        var hiddenElement = document.createElement('a');  
        hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);  
        hiddenElement.target = '_blank';  
          
        //provide the name for the CSV file to be downloaded  
        hiddenElement.download = 'website.csv';  
        hiddenElement.click();  
      }
    </script>
       
    <h2></h2>
    <p></p>
    
    <h2></h2>
    <p></p>
    
    <h2></h2>
    <p></p>
    
  </body>
  
</html>
